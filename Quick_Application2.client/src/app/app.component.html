@if (isUserLoggedIn) {


<!-- Top navigation (global) -->
<header class="topbar" role="banner" aria-label="Application top bar">
  <div class="topbar-inner">
    <div class="brand">
      <div class="logo">JMS</div>
      <div class="app-title">{{ appTitle }}</div>
    </div>

    <div class="topbar-center">
      <input type="search"
             class="global-search"
             placeholder="Search inmates, staff, or records..."
             aria-label="Search" />
    </div>

    <div class="topbar-actions" aria-hidden="false">
      <button class="icon-btn notifications" title="Notifications" [attr.aria-label]="'Notifications'">
        <span class="badge" *ngIf="newNotificationCount > 0">{{ newNotificationCount }}</span>
        üîî
      </button>

      <div class="user-info" title="User">
        <div class="user-avatar" aria-hidden="true">OJ</div>
        <div class="user-name">{{ fullName || userName || 'Officer' }}</div>
      </div>
      <button class="icon-btn logout-btn"
              title="Logout"
              (click)="logout()"
              aria-label="Logout">
        ‚éã
      </button>
    </div>
  </div>
</header>

<!-- Left navigation (global) -->
<aside class="left-sidebar" role="navigation" aria-label="Primary navigation">
  <div class="left-inner">
    <nav class="primary-nav">
      <ul>
        <li class="nav-item">
          <button class="nav-btn" title="Dashboard" (click)="$event.preventDefault(); router.navigate(['/'])">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Dashboard</span>
          </button>
        </li>

        <li class="nav-item">
          <button class="nav-btn" title="Inmates" (click)="goToInmates()">
            <span class="nav-icon">üßæ</span>
            <span class="nav-label">Inmates</span>
          </button>
        </li>

        <li class="nav-item">
          <button class="nav-btn" title="Staff" (click)="$event.preventDefault(); router.navigate(['/staff'])">
            <span class="nav-icon">üëÆ</span>
            <span class="nav-label">Staff</span>
          </button>
        </li>

        <li class="nav-item">
          <button class="nav-btn" title="Cell Management" (click)="$event.preventDefault(); router.navigate(['/cells'])">
            <span class="nav-icon">üß±</span>
            <span class="nav-label">Cell Mgmt</span>
          </button>
        </li>

        <!-- Add more items here as needed (these are simple buttons, not external components) -->
      </ul>
    </nav>
  </div>
</aside>

<!-- App content placeholder - only top/left nav built here -->
<main class="app-content" role="main" aria-live="polite">
  <!-- Router outlet is present but the global styles file intentionally only includes top/left nav -->
  <router-outlet></router-outlet>
</main>


}

@else {
<main class="app-content guest" role="main" aria-live="polite">
  <router-outlet></router-outlet>
</main>

}
